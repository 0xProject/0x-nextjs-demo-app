const e=e=>1e3*e,t=e=>e/1e3;function r(e,t,r){const a=Math.max(t-5,0);return n=r-e(a),(s=t-a)?n*(1e3/s):0;var n,s}const a=100,n=10,s=1;const c=({stiffness:e=a,damping:c=n,mass:o=s,from:h=0,to:d=1,velocity:i=0,restSpeed:u=2,restDistance:M=.5}={})=>{i=i?t(i):0;const g={done:!1,hasReachedTarget:!1,current:h,target:d},v=d-h,f=Math.sqrt(e/o)/1e3,p=((e=a,t=n,r=s)=>t/(2*Math.sqrt(e*r)))(e,c,o);let m;if(p<1){const e=f*Math.sqrt(1-p*p);m=t=>d-Math.exp(-p*f*t)*((p*f*v-i)/e*Math.sin(e*t)+v*Math.cos(e*t))}else m=e=>d-Math.exp(-f*e)*(v+(f*v-i)*e);return e=>{g.current=m(e);const t=0===e?i:r(m,e,g.current),a=Math.abs(t)<=u,n=Math.abs(d-g.current)<=M;var s,c,o;return g.done=a&&n,g.hasReachedTarget=(s=h,c=d,o=g.current,s<c&&o>=c||s>c&&o<=c),g}},o=({from:t=0,velocity:a=0,power:n=.8,decay:s=.325,bounceDamping:o,bounceStiffness:h,changeTarget:d,min:i,max:u,restDistance:M=.5,restSpeed:g})=>{s=e(s);const v={hasReachedTarget:!1,done:!1,current:t,target:t},f=e=>void 0===i?u:void 0===u||Math.abs(i-e)<Math.abs(u-e)?i:u;let p=n*a;const m=t+p,l=void 0===d?m:d(m);v.target=l,l!==m&&(p=l-t);const b=e=>-p*Math.exp(-e/s),x=e=>l+b(e),T=e=>{const t=b(e),r=x(e);v.done=Math.abs(t)<=M,v.current=v.done?l:r};let R,y;const D=e=>{var t;(t=v.current,void 0!==i&&t<i||void 0!==u&&t>u)&&(R=e,y=c({from:v.current,to:f(v.current),velocity:r(x,e,v.current),damping:o,stiffness:h,restDistance:M,restSpeed:g}))};return D(0),e=>{let t=!1;return y||void 0!==R||(t=!0,T(e),D(e)),void 0!==R&&e>R?(v.hasReachedTarget=!0,y(e-R)):(v.hasReachedTarget=!1,!t&&T(e),v)}};export{o as glide};
